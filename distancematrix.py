import requests
import json

key = "AIzaSyDEt4Ok7w7mo_zOZlT9Y8CI3v6-j9lU8xQ"
#locations = ["Dlouhá 612/6, 110 00 Staré Město, Czechia","Vinohradská 2279/164, 130 00 Praha 3, Czechia","Velkopřevorské náměstí, Malá Strana, 100 00 Praha 1, Czechia","Melantrichova 476/18, 110 00 Praha 1-Staré Město, Czechia","Celetná 558/12, 110 00 Staré Město, Czechia","Celetná 558/12, 110 00 Staré Město, Czechia","200 1, Novotného lávka 200/5, 110 00 Praha 1-Staré Město, Czechia","Staroměstské nám. 1/3, 110 00 Praha 1-Staré Město, Czechia","Staroměstské nám. 1/4, 110 00 Praha 1-Staré Město, Czechia","Smetanovo nábř. 205/22, 110 00 Praha 1-Staré Město, Czechia","Přemyslovská 2845/43, 130 00 Praha 3, Czechia","Národní 362/31, 110 00 Praha 1-Staré Město-Staré Město, Czechia","Jungmannovo nám. 15/16, 110 00 Praha 1-Můstek, Czechia","Karmelitská 388/2, 118 00 Praha 1-Malá Strana, Czechia","Jánský vršek 8, 118 00 Praha 1-Malá Strana, Czechia","Strahovské nádvoří 11, 118 00 Praha 1, Czechia","Maltézské nám. 473/15, 118 00 Praha 1-Malá Strana, Czechia","170 00 Prague 7, Czechia","Karlova 190/1, 110 00 Praha 1-Staré Město, Czechia","Malé nám. 11, 110 00 Praha 1-Staré Město, Czechia","Jiráskovo nám. 1981/6, 120 00 Praha 2-Nové Město, Czechia","Tyršova 9, 120 00 Praha 2-Nové Město, Czechia","Jilská 7, 110 00 Praha-Staré Město, Czechia","Smetanovo nábř. 198/1, 110 00 Staré Město, Czechia","New Town, 110 00 Prague 1, Czechia","Karlův most, 110 00 Praha 1, Czechia","Dlouhá 705/16, 110 00 Praha 1-Staré Město, Czechia","Karlova 183/14, 110 00 Staré Město, Czechia","nám. Republiky 3/4, 110 00 Praha 1-Nové Město, Czechia","Českomoravská 2345/17, 190 00 Praha 9, Czechia","Českomoravská 2345/17, 190 00 Praha 9, Czechia","Národní 2, 110 00 Nové Město, Czechia","Karoliny Světlé 286/18, 110 00 Praha 1-Staré Město, Czechia","Mariánské hradby, 118 00 Praha 1, Czechia","Výstaviště, 170 00 Praha 7, Czechia","Petřínské sady, 118 00 Praha 1, Czechia","nám. Republiky 1, 110 00 Nové Město, Czechia","Vlašská 591/13, 118 00 Malá Strana, Czechia","Michalská 429/1, 110 00 Staré Město, Czechia","Jiřská 3, 119 00 Praha 1, Czechia"]
#timedata = []


#for i in range(0,len(locations)):
#    for j in range(0,len(locations)):
#        string = "https://maps.googleapis.com/maps/api/distancematrix/json?origins="+locations[i]+"&destinations="+locations[j]+"&mode=walking&key="+key
#        data = requests.get(string).json()
#        time = data['rows'][0]['elements'][0]['duration']['text']
#        print(str(i+1)+"-"+str(j+1)+":"+time)

#url = "https://trip-plan-router.herokuapp.com/db"
#loc = [["Skydiving","Dlouhá 612/6, 110 00 Staré Město, Czechia",250,"Slots","Daily - 9, 10, 11, 12, 13, 14, 15, 16",180,"Yes","50.0889098 - 14.4221679"],["Shooting","Vinohradská 2279/164, 130 00 Praha 3, Czechia",50,"Slots","Monday, Tuesday, Wednesday, Thursday, Friday, Saturday - 10, 11, 12, 13, 14, 15",180,"Yes","50.0779468 - 14.4657656"],["John Lennon Wall","Velkopřevorské náměstí, Malá Strana, 100 00 Praha 1, Czechia",0,"Unrestricted","-",30,"No","50.0861641 - 14.4072973"],["Sex Machines Museum","Melantrichova 476/18, 110 00 Praha 1-Staré Město, Czechia",10,"Regular","Daily - 10 to 23",60,"No","50.0862784 - 14.4207497"],["Museum of Torture","Celetná 558/12, 110 00 Staré Město, Czechia",10,"Regular","Daily - 10 to 20",60,"No","50.0872895 - 14.4233306"],["Pub-crawl","Celetná 558/12, 110 00 Staré Město, Czechia",22,"Slots","Daily - 19:45, 20:45",240,"Yes","50.0872895 - 14.4233306"],["Ice Bar","200 1, Novotného lávka 200/5, 110 00 Praha 1-Staré Město, Czechia",12,"Regular","Daily - 12 to 5",60,"No","50.0854191 - 14.4133023"],["Top of old town hall tower","Staroměstské nám. 1/3, 110 00 Praha 1-Staré Město, Czechia",10,"Regular","Daily - 11 to 22",60,"No","50.0868713 - 14.420188"],["Astronomical Clock at 'o clock","Staroměstské nám. 1/4, 110 00 Praha 1-Staré Město, Czechia",0,"Unrestricted","-",20,"No","50.0870069 - 14.4204837"],["Beer Museum","Smetanovo nábř. 205/22, 110 00 Praha 1-Staré Město, Czechia",11,"Regular","Daily - 10 to 20",60,"No","50.0850176 - 14.4139948"],["Drink becherovka - Prague's local drink","Přemyslovská 2845/43, 130 00 Praha 3, Czechia",5,"Regular","Daily - 8 to 22",10,"No","50.0790935 - 14.4597914"],["Lego Museum","Národní 362/31, 110 00 Praha 1-Staré Město-Staré Město, Czechia",8,"Regular","Daily - 10 to 20",60,"No","50.0827022 - 14.4193908"],["U Pinkasů restaurant - Pilsner Urquell tasting room","Jungmannovo nám. 15/16, 110 00 Praha 1-Můstek, Czechia",10,"Regular","Daily - 10 to 23:30",60,"No","50.0831964 - 14.4233329"],["Museum of Instruments","Karmelitská 388/2, 118 00 Praha 1-Malá Strana, Czechia",5,"Regular","Monday, Wednesday, Thursday, Friday, Saturday, Sunday - 10 to 18",90,"No","50.0849513 - 14.4045441"],["Museum of Alchemists and Magicians of Old Prague","Jánský vršek 8, 118 00 Praha 1-Malá Strana, Czechia",7.5,"Regular","Daily - 10 to 20",90,"No","50.0880602 - 14.3986701"],["Museum of Miniatures","Strahovské nádvoří 11, 118 00 Praha 1, Czechia",4,"Regular","Daily - 9 to 17",90,"No","50.087046 - 14.3884485"],["Hot Cholcolate at Café Kaficko","Maltézské nám. 473/15, 118 00 Praha 1-Malá Strana, Czechia",5,"Regular","Daily - 10 to 20",90,"No","50.0857434 - 14.4055845"],["Panorama of Prague from Letna Park","170 00 Prague 7, Czechia",0,"Unrestricted","-",60,"No","50.1057231 - 14.4325598"],["Eat a Trdelnik","Karlova 190/1, 110 00 Praha 1-Staré Město, Czechia",3,"Regular","Daily - 10 to 22",30,"No","50.086156 - 14.4166006"],["Communism and Nuclear Bunker Tour","Malé nám. 11, 110 00 Praha 1-Staré Město, Czechia",23,"Slots","Daily - 10:30, 14:30",120,"No","50.0864214 - 14.4198022"],["Glance at the Dancing House","Jiráskovo nám. 1981/6, 120 00 Praha 2-Nové Město, Czechia",0,"Unrestricted","-",10,"No","50.075451 - 14.4141944"],["Mind Maze Escape Game","Tyršova 9, 120 00 Praha 2-Nové Město, Czechia",23,"Regular","Daily - 10:30 to 22",90,"Yes","50.0731405 - 14.4311066"],["Drink Absinthe","Jilská 7, 110 00 Praha-Staré Město, Czechia",10,"Regular","Daily - 12 to 0",60,"No","50.0855927 - 14.4188176"],["Clubbing at Klub Karlovy Lazne","Smetanovo nábř. 198/1, 110 00 Staré Město, Czechia",6,"Regular","Daily - 21 to 5",180,"No","50.0855059 - 14.4139749"],["Prague beer and food tour","New Town, 110 00 Prague 1, Czechia",55,"Slots","Daily - 17",240,"Yes","50.0860381 - 14.4222689"],["Take a stroll across the Charles Bridge","Karlův most, 110 00 Praha 1, Czechia",0,"Unrestricted","-",20,"No","50.0864771 - 14.4114366"],["Off Road Quad Bikes","Dlouhá 705/16, 110 00 Praha 1-Staré Město, Czechia",70,"Slots","Daily - 10, 12:30, 15",150,"Yes","50.0895449 - 14.4230981"],["Four seasons vivaldi concert","Karlova 183/14, 110 00 Staré Město, Czechia",24,"Occurrence","11 July 2017 - 19, 12 July 2017 - 19,  15 July - 19, 17 July 2017 - 19, 18 July 2017 - 19",65,"Yes","50.0859262 - 14.4158625"],["Swan Lake ballet","nám. Republiky 3/4, 110 00 Praha 1-Nové Město, Czechia",35,"Occurrence","13 July 2017 - 15, 15 July 2017 - 15,  17 July 2017 - 15, 19 July 2017 - 15, 21 July 2017 - 15",65,"Yes","50.0873782 - 14.4287665"],["System of a down concert","Českomoravská 2345/17, 190 00 Praha 9, Czechia",70,"Occurrence","19 July 2017 - 13",180,"Yes","50.1047183 - 14.4937672"],["Foo fighters concert","Českomoravská 2345/17, 190 00 Praha 9, Czechia",75,"Occurrence","18 July 2017 - 20",180,"Yes","50.1047183 - 14.4937672"],["Romeo and Juliet ballet","Národní 2, 110 00 Nové Město, Czechia",35,"Occurrence","18 August 2017 - 20:30, 20 August 2017 - 20:30, 25 August 2017 - 20:30, 27 August 2017 - 20:30, 2 September 2017 - 19:30",100,"Yes","50.081262 - 14.413474"],["Phantom - Black Light theatre","Karoliny Světlé 286/18, 110 00 Praha 1-Staré Město, Czechia",22,"Slots","Tuesday, Thursday, Friday, Saturday - 20",90,"Yes","50.08368609999999 - 14.4144349"],["Mini Beer festival","Mariánské hradby, 118 00 Praha 1, Czechia",10,"Duration","17 July 2017 to 18 July 2017 - 9 to 17",120,"No","50.0938643 - 14.4031949"],["Metronome festival","Výstaviště, 170 00 Praha 7, Czechia",105,"Duration","23 July 2017 to 24 July 2017 - 13 to 5",240,"Yes","50.10651060000001 - 14.4311462"],["Petrin Tower and view from top","Petřínské sady, 118 00 Praha 1, Czechia",6,"Regular","Daily - 10 to 22",60,"No","50.0838336 - 14.3969441"],["Palladium shopping centre prague","nám. Republiky 1, 110 00 Nové Město, Czechia",20,"Regular","Daily - 9 to 21",90,"No","50.0891861 - 14.4287219"],["KGB Museum","Vlašská 591/13, 118 00 Malá Strana, Czechia",10,"Regular","Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday - 10 to 17",60,"No","50.0871335 - 14.3995247"],["Museum of Chamber pots and toilets","Michalská 429/1, 110 00 Staré Město, Czechia",6,"Regular","Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday - 10 to 18",60,"No","50.08452 - 14.4198998"],["Lobkowicz palace","Jiřská 3, 119 00 Praha 1, Czechia",11,"Regular","Daily - 10 to 18",60,"No","50.0915032 - 14.4038153"]]

#headers = {'Content-type': 'application/json', 'Accept': 'application/json'}

#for i in range(0, len(loc)):
#    jsonObj = {"type": "Insert", "city": "Prague", "locid": i+1, "activity": loc[i][0], "address": loc[i][1], "price": loc[i][2], "acttype": loc[i][3], "hours": loc[i][4], "time": loc[i][5], "book": loc[i][6], "coordinates": loc[i][7]}    
#    r = requests.post(url, data=json.dumps(jsonObj), headers=headers)
#    print(r.status_code)


#for x in locations:
#    url = "https://maps.googleapis.com/maps/api/geocode/json?address="
#    url = url+x
#    url = url + "&key="+key
    
#    data = requests.get(url).json()
#    print(str(data['results'][0]['geometry']['location']['lat']),"-",str(data['results'][0]['geometry']['location']['lng']))

#location = "Hostel One Prague"
#city = "Prague"
#url = "https://maps.googleapis.com/maps/api/geocode/json?address="
#url = url + location + " "+ city+"&key="+key

#data = requests.get(url).json()

#print(data['results'][0])
#print(data['results'][0]['formatted_address'])
#print(str(data['results'][0]['geometry']['location']['lat']),"-",str(data['results'][0]['geometry']['location']['lng']))

url = "https://secure.booking.com/confirmation.html?label=gen173nr-1FCAEoggJCAlhYSDNiBW5vcmVmaGyIAQGYATG4AQjIAQzYAQHoAQH4AQKSAgF5qAID;sid=8c95b59e491ceb52fe5d92e275a8dfc0;auth_key=wXlnaj3HZS7JUeJX;bp_travel_purpose=leisure;hostname=www.booking.com;source=book;ua_created=0&"
data = requests.get(url)
temp = data.text.split('<th class="hotel_name" colspan="2">')[1].split('<span class="nowrap pb-conf-rating">')[0].strip()
print(temp)
